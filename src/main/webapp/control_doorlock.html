<div ng-repeat="device in devices.data">
  <h4>
    <button type="button" class="btn btn-lg btn-default light-off"
            ng-show="device.actualState == '0'"
            ng-disabled="device.desiredState != device.actualState"
            ng-model="device.desiredState"
            ng-click="processForm(device.id, 1)"   
            >
      {{device.name}}
    </button>
    <button type="button" class="btn btn-lg light-on"
            ng-show="device.actualState == '1'"
            ng-disabled="device.desiredState != device.actualState"
            ng-model="device.desiredState"
            ng-click="processForm(device.id, 0)"
            >
      {{device.name}}
    </button>
    <img ng-show="device.desiredState != device.actualState" 
         src="/images/ic_wb_cloudy_grey600_36dp.png"/>
    <alert type="none" class="alert-danger" ng-show="device.expired">Controller offline</alert>
  </h4>
</div>

